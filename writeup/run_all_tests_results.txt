Test Run: 20250403_201549
================================================================================

Starting comprehensive tests...
Using database URL: postgresql://exchange:exchange-password@localhost/exchange
Skipping server startup - using existing server

=== Running Functional Tests ===
Connected to server at ('vcm-45083.vm.duke.edu', 12345)
--------------------------------------------------
Sent request:
173
<?xml version="1.0" encoding="UTF-8"?>
<create>
  <account id="123456" balance="1000"/>
  <symbol sym="SPY">
    <account id="123456">100000</account>
  </symbol>
</create>

Server response:
<results><error id="123456">Account already exists</error><created sym="SPY" id="123456" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
173
<?xml version="1.0" encoding="UTF-8"?>
<create>
  <account id="123456" balance="1000"/>
  <symbol sym="SPY">
    <account id="123456">100000</account>
  </symbol>
</create>

Server response:
<results><error id="123456">Account already exists</error><created sym="SPY" id="123456" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
58
<?xml version="1.0" encoding="UTF-8"?>
<create>
</create>

Server response:
<results />
--------------------------------------------------

--------------------------------------------------
Sent request:
134
<?xml version="1.0" encoding="UTF-8"?>
<create>
  <symbol sym="SPY">
    <account id="9999999">100000</account>
  </symbol>
</create>

Server response:
<results><error sym="SPY" id="9999999">Account 9999999 does not exist</error></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
127
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="123456">
  <order sym="SPY" amount="10" limit="100"/>
</transactions>

Server response:
<results><error sym="SPY" amount="10" limit="100" error="Insufficient funds" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
127
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="999999">
  <order sym="SPY" amount="10" limit="100"/>
</transactions>

Server response:
<results><error sym="SPY" amount="10" limit="100" error="Account 999999 not found" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
205
<?xml version="1.0" encoding="UTF-8"?>
<create>
  <account id="1" balance="1000000"/>
  <account id="2" balance="1000000"/>
  <symbol sym="AMZN">
    <account id="2">100000</account>
  </symbol>
</create>

Server response:
<results><error id="1">Account already exists</error><error id="2">Account already exists</error><created sym="AMZN" id="2" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
218
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="1">
  <order sym="AMZN" amount="300" limit="125"/>
  <order sym="AMZN" amount="200" limit="127"/>
  <order sym="AMZN" amount="400" limit="125"/>
</transactions>

Server response:
<results><error sym="AMZN" amount="300" limit="125" error="Insufficient funds" /><error sym="AMZN" amount="200" limit="127" error="Insufficient funds" /><error sym="AMZN" amount="400" limit="125" error="Insufficient funds" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
221
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="2">
  <order sym="AMZN" amount="-100" limit="130"/>
  <order sym="AMZN" amount="-500" limit="128"/>
  <order sym="AMZN" amount="-200" limit="140"/>
</transactions>

Server response:
<results><opened sym="AMZN" amount="-100" limit="130" id="25447" /><opened sym="AMZN" amount="-500" limit="128" id="25448" /><opened sym="AMZN" amount="-200" limit="140" id="25449" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
125
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="2">
  <order sym="AMZN" amount="-400" limit="124"/>
</transactions>

Server response:
<results><opened sym="AMZN" amount="-400" limit="124" id="25450" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
95
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="2">
  <query id="7"/>
</transactions>

Server response:
<results><status id="7"><executed shares="200.0" price="127.0" time="1743528385" /><executed shares="200.0" price="125.0" time="1743528385" /></status></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
131
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="1">
  <query id="2"/>
  <query id="3"/>
  <query id="4"/>
</transactions>

Server response:
<results><status id="2"><executed shares="200.0" price="125.0" time="1743528385" /><executed shares="100.0" price="125.0" time="1743528736" /></status><status id="3"><executed shares="200.0" price="127.0" time="1743528385" /></status><error id="4" error="Permission denied: Order belongs to another account" /></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
131
<?xml version="1.0" encoding="UTF-8"?>
<transactions id="2">
  <query id="5"/>
  <query id="6"/>
  <query id="7"/>
</transactions>

Server response:
<results><status id="5"><open shares="500.0" /></status><status id="6"><open shares="200.0" /></status><status id="7"><executed shares="200.0" price="127.0" time="1743528385" /><executed shares="200.0" price="125.0" time="1743528385" /></status></results>
--------------------------------------------------

--------------------------------------------------
Sent request:
203
<?xml version="1.0" encoding="UTF-8"?>
<create>
  <account id="3" balance="200000"/>
  <account id="4" balance="100000"/>
  <symbol sym="GOOG">
    <account id="4">100000</account>
  </symbol>
</create>

Server response:
<results><error id="3">Account already exists</error><error id="4">Account already exists</error><created sym="GOOG" id="4" /></results>
--------------------------------------------------

Setup failed, aborting transaction operations test
Closing client socket.

=== Running Edge Case Tests ===
